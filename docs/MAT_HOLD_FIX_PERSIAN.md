# ุฑูุน ูุดฺฉู Mat Hold Pattern - ุฑุงูููุง ฺฉุงูู

## ๐ ูุดฺฉู ุงุตู

ุงูฺฏู Mat Hold ูฺ detection ูุฏุงุดุช ุฏุฑ ุฏุงุฏูโูุง ูุงูุน BTC. ุฏูู ุงู ุจูุฏ ฺฉู:

1. **ูพุงุฑุงูุชุฑ `penetration` ุงุณุชูุงุฏู ูุดุฏู ุจูุฏ**
2. **TALib ุจู ุตูุฑุช ูพุดโูุฑุถ ุงุฒ ููุฏุงุฑ 0.5 (50%) ุงุณุชูุงุฏู ูโฺฉูุฏ**
3. **ุงู ููุฏุงุฑ ุจุณุงุฑ ุณุฎุชโฺฏุฑุงูู ุงุณุช** ู ุงูฺฏู ุฑุง ุจุณุงุฑ ูุงุฏุฑ ูโฺฉูุฏ

## โ ุฑุงูโุญู

### 1. ุงุถุงูู ฺฉุฑุฏู ูพุงุฑุงูุชุฑ Penetration

ูุงู `mat_hold.py` ุจู ุฑูุฒ ุดุฏ ู ุญุงูุง ูพุงุฑุงูุชุฑ `penetration` ุฑุง ูโูพุฐุฑุฏ:

```python
# ูุจู
detector = MatHoldPattern()

# ุจุนุฏ - ุจุง ูพุงุฑุงูุชุฑ ุฌุฏุฏ
detector = MatHoldPattern(penetration=0.3)  # ููุฏุงุฑ ูพุดโูุฑุถ: 0.3
```

### 2. ููุฏุงุฑ ูพุดโูุฑุถ ุฌุฏุฏ: 0.3 (30%)

ููุฏุงุฑ ูพุดโูุฑุถ ุงุฒ 0.5 ุจู 0.3 ฺฉุงูุด ุงูุช ฺฉู ุจุงุนุซ ูโุดูุฏ:
- โ Detections ุจุดุชุฑ
- โ ุงูฺฏู ุฏุฑ ุฏุงุฏู ูุงูุน ูพุฏุง ุดูุฏ
- โ ุชุนุงุฏู ุจู ุฏูุช ู ูุฑุงูุงู

## ๐ ุฏุฑฺฉ ูพุงุฑุงูุชุฑ Penetration

```
Penetration = ุฏุฑุตุฏ ูููุฐ ฺฉ ฺฉูุฏู ุฏุฑ ฺฉูุฏู ุฏฺฏุฑ

ููุฏุงุฑ ูพุงู (0.1-0.3):
  โ Detections ุจุดุชุฑ
  โ๏ธ  ุฏูุช ฺฉูุชุฑ

ููุฏุงุฑ ูุชูุณุท (0.3-0.5):
  โ ุชุนุงุฏู ุฎูุจ
  โ ุชูุตู ูโุดูุฏ

ููุฏุงุฑ ุจุงูุง (0.5-0.7):
  โ ุฏูุช ุจุดุชุฑ
  โ๏ธ  Detections ุจุณุงุฑ ฺฉู
```

## ๐งช ุชุณุช ุจุง ููุงุฏุฑ ูุฎุชูู

### ุงุณฺฉุฑูพุช ุชุณุช ุฌุฏุฏ

ฺฉ ุงุณฺฉุฑูพุช ุฌุฏุฏ ุงุฌุงุฏ ุดุฏ ุจุฑุง ุชุณุช ููุงุฏุฑ ูุฎุชูู:

```bash
python talib-test/test_mathold_penetration.py
```

ุงู ุงุณฺฉุฑูพุช:
- โ ุชูุงู ุชุงู ูุฑูโูุง ุฑุง ุชุณุช ูโฺฉูุฏ (5m, 15m, 1h, 4h)
- โ ููุงุฏุฑ ูุฎุชูู penetration ุฑุง ุงูุชุญุงู ูโฺฉูุฏ
- โ ุจูุชุฑู ููุฏุงุฑ ุฑุง ูพุดููุงุฏ ูโุฏูุฏ

### ูุญูู ุงุณุชูุงุฏู ุฏุฑ ฺฉุฏ ุดูุง

#### ุฑูุด 1: ุงุณุชูุงุฏู ุงุฒ ููุฏุงุฑ ูพุดโูุฑุถ (ุชูุตู ูโุดูุฏ)
```python
from signal_generation.analyzers.patterns.candlestick.mat_hold import MatHoldPattern

# ููุฏุงุฑ ูพุดโูุฑุถ 0.3 ุงุณุชูุงุฏู ูโุดูุฏ
detector = MatHoldPattern()

is_detected = detector.detect(df)
```

#### ุฑูุด 2: ุชูุธู ุฏุณุช
```python
# ุงุณุชูุงุฏู ุงุฒ ููุฏุงุฑ ุณูุงุฑุด
detector = MatHoldPattern(penetration=0.25)  # More lenient
```

#### ุฑูุด 3: ุชุณุช ููุงุฏุฑ ูุฎุชูู
```python
import pandas as pd

# ุฏุงุฏู ุฎูุฏ ุฑุง ููุฏ ฺฉูุฏ
df = pd.read_csv('your_data.csv')

# ุชุณุช ุจุง ููุงุฏุฑ ูุฎุชูู
penetration_values = [0.2, 0.3, 0.4, 0.5]

for pen in penetration_values:
    detector = MatHoldPattern(penetration=pen)
    is_detected = detector.detect(df)

    print(f"Penetration {pen}: {'โ Detected' if is_detected else 'โ Not detected'}")
```

## ๐ ุชุบุฑุงุช ุฏุฑ ฺฉุฏ

### ูุจู (ูุณุฎู 1.0.0):
```python
result = talib.CDLMATHOLD(
    df[open_col].values,
    df[high_col].values,
    df[low_col].values,
    df[close_col].values
)
# ุงุณุชูุงุฏู ุงุฒ ููุฏุงุฑ ูพุดโูุฑุถ TALib (0.5)
```

### ุจุนุฏ (ูุณุฎู 1.1.0):
```python
result = talib.CDLMATHOLD(
    df[open_col].values,
    df[high_col].values,
    df[low_col].values,
    df[close_col].values,
    penetration=self.penetration  # ููุฏุงุฑ ูุงุจู ุชูุธู (ูพุดโูุฑุถ: 0.3)
)
```

## ๐ฏ ุชูุตูโูุง ุงุณุชูุงุฏู

### ุจุฑุง ุจุงุฒุงุฑูุง ูุฎุชูู:

#### ุจุงุฒุงุฑูุง Volatile (Bitcoin, Altcoins):
```python
detector = MatHoldPattern(penetration=0.25)  # ฺฉู ุณููโฺฏุฑุงููโุชุฑ
```

#### ุจุงุฒุงุฑูุง ฺฉู ููุณุงู (Stablecoins, Forex):
```python
detector = MatHoldPattern(penetration=0.35)  # ฺฉู ุณุฎุชโฺฏุฑุงููโุชุฑ
```

#### ุงุณุชูุงุฏู ุนููู (ุชูุตู):
```python
detector = MatHoldPattern(penetration=0.3)  # ุง ุจุฏูู ูพุงุฑุงูุชุฑ
```

## โ๏ธ ุชูุธูุงุช ูพุดุฑูุชู

### ุชุฑฺฉุจ ุจุง ุณุงุฑ ูพุงุฑุงูุชุฑูุง:
```python
detector = MatHoldPattern(
    lookback_window=20,      # ุจุฑุฑุณ 20 ฺฉูุฏู ุงุฎุฑ
    penetration=0.3,         # ุฏุฑุตุฏ ูููุฐ
    recency_multipliers=[1.0, 0.9, 0.8, 0.7, ...]  # ูุฒูโุฏู ุจู ุชุงุฒฺฏ
)
```

## ๐ ุนุจโุงุจ

### ุงฺฏุฑ ูููุฒ detection ูุฏุงุฑุฏ:

1. **ูพุงุฑุงูุชุฑ ุฑุง ฺฉุงูุด ุฏูุฏ:**
   ```python
   detector = MatHoldPattern(penetration=0.2)
   ```

2. **ุจุฑุฑุณ ฺฉูุฏ ฺฉู ุฏุงุฏู ฺฉุงู ุฏุงุฑุฏ:**
   ```python
   if len(df) < 17:
       print("โ ุญุฏุงูู 17 ฺฉูุฏู ูุงุฒ ุงุณุช")
   ```

3. **ุชุณุช ุจุง TALib ูุณุชูู:**
   ```python
   import talib
   result = talib.CDLMATHOLD(df['open'], df['high'], df['low'], df['close'], penetration=0.2)
   print(f"Detections: {(result != 0).sum()}")
   ```

## ๐ ููุงุจุน ุจุดุชุฑ

- **TA-Lib Documentation**: [ุชุงุจุน CDLMATHOLD](http://ta-lib.org/)
- **ุงูฺฏู Mat Hold**: ุงูฺฏู ุงุฏุงููโุฏููุฏู ุตุนูุฏ 5 ฺฉูุฏู
- **ุชุณุช ุฎูุฏฺฉุงุฑ**: `test_mathold_penetration.py`

## โจ ุฎูุงุตู ุชุบุฑุงุช

| ุขุชู | ูุจู | ุจุนุฏ |
|------|-----|-----|
| ูุณุฎู | 1.0.0 | 1.1.0 |
| Penetration ูพุดโูุฑุถ | 0.5 (TALib) | 0.3 (ูุงุจู ุชูุธู) |
| Detections ุฏุฑ BTC | 0 โ | ูุชุนุฏุฏ โ |
| ูุงุจูุช ุชูุธู | โ | โ |

## ๐ก ูฺฉุงุช ููู

1. **ุงูฺฏู Mat Hold ููฺูุงู ูุงุฏุฑ ุงุณุช** - ุญุช ุจุง penetration ูพุงูโุชุฑ
2. **ุงู ฺฉ ุงูฺฏู 5 ฺฉูุฏู ุงุณุช** - ุดุฑุงุท ุฎุงุต ุฏุงุฑุฏ
3. **ููุฏุงุฑ 0.3 ุชุนุงุฏู ุฎูุจ ุงุณุช** ุจู ุฏูุช ู ุชุนุฏุงุฏ
4. **ุจุฑุง ุงุณุชุฑุงุชฺ ุฎูุฏ ุชุณุช ฺฉูุฏ** - ูุฑ ุจุงุฒุงุฑ ูุชูุงูุช ุงุณุช

## ๐ ุณุงุฒฺฏุงุฑ ุจุง ฺฉุฏ ูุจู

ฺฉุฏ ูุจู ุจุฏูู ุชุบุฑ ฺฉุงุฑ ูโฺฉูุฏ:
```python
# ุงู ฺฉุฏ ููฺูุงู ฺฉุงุฑ ูโฺฉูุฏ ู ุงุฒ ููุฏุงุฑ ุฌุฏุฏ 0.3 ุงุณุชูุงุฏู ูโฺฉูุฏ
detector = MatHoldPattern()
```

ุงูุง ุญุงูุง ูโุชูุงูุฏ ุขู ุฑุง ุชูุธู ฺฉูุฏ:
```python
# ุชูุธู ุฏูุฎูุงู
detector = MatHoldPattern(penetration=0.25)
```

---

**ููุณูุฏู**: Claude Code
**ุชุงุฑุฎ**: 2025-10-27
**ูุณุฎู ุฑุงูููุง**: 1.0
